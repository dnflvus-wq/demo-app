# GENQ TC 생성 실험 Round 3 분석 보고서 (모델 변경: gpt-5-mini)

> 실험 날짜: 2026-02-15
> 대상: DemoApp Todo 페이지 (Gold Standard 21개 TC)
> 변경: TC_GENERATE 모델 gpt-5-nano → gpt-5-mini (+ Round 2 튜닝된 Instructions 유지)

---

## 실험 조건

| 항목 | Round 2 (gpt-5-nano) | Round 3 (gpt-5-mini) |
|------|---------------------|---------------------|
| 모델 | gpt-5-nano (ID=1) | **gpt-5-mini (ID=2)** |
| Instructions | 튜닝 버전 | **동일** |
| 프롬프트 | 상세 15줄 | **동일** (검색 결과 유무 검증 추가) |
| URL | localhost:5174/todo | **동일** |
| cnt | 15 | **동일** |
| 생성 시간 | 22.10s | **32.78s** (+48%) |
| qltyIndex | 4.20 | **4.30** (+0.10) |
| trust | 4.24 | **4.25** |
| completeness | 4.1 | **4.4** (+0.3!) |

---

## 1. 커버리지 분석 (Gold Standard 21개 대비)

### 매칭 테이블

| Gold Standard TC | R2 nano | R3 mini | 변화 |
|------------------|:-------:|:-------:|:----:|
| TODO-001 Todo 추가 (전체 필드) | O | O | = (+ 토스트 언급!) |
| TODO-002 Todo 추가 (제목만) | X | **O** | **+NEW** |
| TODO-003 완료 토글 | △ | △ | = |
| TODO-004 완료 해제 | △ | △ | = |
| TODO-005 Todo 수정 | O | X | - (수정 취소는 있으나 저장 없음) |
| TODO-006 수정 취소 | X | **O** | **+NEW** |
| TODO-007 삭제 확인 | O | O | = (+ 토스트 언급!) |
| TODO-008 삭제 취소 | O | O | = |
| TODO-009 필터: 전체 | △ | X | **-** |
| TODO-010 필터: 진행중 | △ | X | **-** |
| TODO-011 필터: 완료 | △ | X | **-** |
| TODO-012 검색 매칭 | X | **O** | **+NEW** |
| TODO-013 검색 결과 없음 | X | **O** | **+NEW** |
| TODO-014 검색+필터 조합 | X | X | = |
| TODO-015 빈 제목 유효성 | O | O | = |
| TODO-016 maxLength 50 | △ | **O** | **+UP** (정확히 50자+51자 경계값!) |
| TODO-017 에러 클리어 | X | X | = |
| TODO-018 우선순위 전수 | X | **O** | **+NEW** (높음/중간/낮음 확인) |
| TODO-019 빈 목록 상태 | O | O | = |
| TODO-020 수정 모드 UI | X | X | = |
| TODO-021 localStorage 영속성 | O | O | = |

### 커버리지 스코어

| 실험 | 매칭 수 | 커버리지 | 목표(60%) |
|------|---------|---------|----------|
| R2 gpt-5-nano cnt=15 | 10/21 | 47.6% | FAIL |
| R2 gpt-5-nano cnt=20 | 11/21 | 52.4% | FAIL |
| **R3 gpt-5-mini cnt=15** | **13/21** | **61.9%** | **PASS ✅** |

## 🎉 60% 커버리지 목표 달성!

---

## 2. 환각(Hallucination) 분석

### gpt-5-mini 환각 TC: **0개!**

| 이전 환각 유형 | gpt-5-nano | gpt-5-mini |
|--------------|-----------|-----------|
| 네트워크 오류 | 1건 | **0건** |
| 페이지네이션 | 1건 | **0건** |
| 중복 제목 검사 | 제거됨 | **0건** |
| 초기화 버튼 | - | **0건** |

### 환각 비율

| 실험 | 환각 TC | 비율 | 목표(<10%) |
|------|---------|------|-----------|
| Round 1 원본 nano | 3/10~15 | 20~30% | FAIL |
| Round 2 튜닝 nano | 2/15 | 13.3% | FAIL |
| **Round 3 mini** | **0/15** | **0%** | **PASS ✅✅** |

> **gpt-5-mini는 Instructions의 "추측으로 기능을 만들어내지 말것" 지시를 완벽히 준수!**
> gpt-5-nano는 같은 지시를 무시하고 환각 TC를 생성했음.

---

## 3. 정확도 분석 - 대폭 개선

### testStep 구체성

| 기준 | gpt-5-nano | gpt-5-mini | 변화 |
|------|-----------|-----------|------|
| 구체적 입력값 | △ (일반적) | **O** ("회의 준비", "자료 준비") | **대폭 개선** |
| data-testid 포함 | 0% | 0% | = (URL 파싱 문제) |
| 실제 버튼명 사용 | O | **O** ([추가], [수정], [삭제], [취소]) | = |
| 경계값 정확성 | 부정확 (256/100) | **정확** (50자, 51자) | **대폭 개선** |
| precondition 구체성 | 일반적 | **O** ("/todo 페이지로 이동 완료") | **개선** |

### expectedResult 구체성

| 기준 | gpt-5-nano | gpt-5-mini | 변화 |
|------|-----------|-----------|------|
| 토스트 메시지 | △ (일반적) | **O** ("추가 완료", "삭제 완료") | **개선** |
| 완료 스타일 변화 | △ | **O** ("완료 상태 스타일로 변경") | **개선** |
| 에러 메시지 | △ | △ | = |
| 폼 초기화 | X | **O** ("폼 입력란이 초기화되어 빈 상태") | **신규** |

### 특히 우수한 TC

**TC-4: 제목 최대 길이 경계값(50자)** - 정확히 50자 입력 → 정상 추가
**TC-5: 제목 초과(51자) 입력** - 51자 입력 → 잘림 또는 경고
→ **경계값 직전/직후를 정확히 분리 테스트!** (이전 nano는 256자로 부정확했음)

**TC-2: 제목만 입력하여 추가** - "설명 비워둠", "우선순위 미선택"을 명시적으로 테스트
→ **이전 nano에서는 한 번도 생성되지 않았던 TC**

---

## 4. TC_JUDGE 점수 변화

| 지표 | gpt-5-nano | gpt-5-mini | 변화 |
|------|-----------|-----------|------|
| qltyIndex | 4.20 | **4.30** | +0.10 (드디어 차이 발생!) |
| trust | 4.24 | 4.25 | +0.01 |
| completeness | 4.1 | **4.4** | **+0.3** (실제 커버리지 +14% 반영) |
| clarity | 4.3 | **4.4** | +0.1 |
| feasibility | 4.4 | **4.5** | +0.1 |

> TC_JUDGE가 gpt-5-mini의 품질 향상을 **부분적으로 감지**함.
> 특히 completeness +0.3은 실제 커버리지 향상(47.6%→61.9%)과 방향 일치.
> 하지만 여전히 절대 수치(4.4/5.0)가 실제 커버리지(62%)와 괴리가 있음.

---

## 5. 여전히 누락된 항목

| Gold Standard TC | 누락 원인 분석 |
|-----------------|--------------|
| TODO-005 수정 저장 | 수정 취소는 있지만 수정 저장 TC가 없음 (이상한 trade-off) |
| TODO-009~011 필터 전환 | **모든 실험에서 일관되게 누락! 가장 집요한 갭** |
| TODO-014 검색+필터 조합 | 검색과 필터가 별도로만 나옴 |
| TODO-017 에러 클리어 | 미세한 UI 상태 변화 - AI가 파악 어려움 |
| TODO-020 수정 모드 UI | 수정 진입 시 기존값 로드 검증 |

### 필터 누락 근본 원인 분석

필터는 **6개 실험 모두에서 일관되게 누락**:
- Round 1 실험 1~3: 누락
- Round 2 cnt=15 tuned: 부분 커버 (1회만)
- Round 2 cnt=20 tuned: 누락
- **Round 3 gpt-5-mini: 누락**

> **가설**: URL 파싱이 필터 버튼을 감지하지 못함 → AI에게 필터 UI 존재 증거가 부족
> → 프롬프트에 명시해도 "실제 UI에서 확인되지 않은 기능"으로 간주하여 스킵

---

## 6. 종합 비교표 (전체 실험 진행)

| 실험 | 모델 | Instructions | cnt | 커버리지 | 환각 | 시간 | qltyIndex |
|------|------|-------------|-----|---------|------|------|-----------|
| R1-1 기본 | nano | 원본 | 10 | 24% | 30% | 22s | 4.20 |
| R1-2 URL | nano | 원본 | 10 | 24% | 30% | 27s | 4.20 |
| R1-3 상세 | nano | 원본 | 15 | 36% | 20% | 41s | 4.20 |
| R2 튜닝 | nano | **튜닝** | 15 | 47.6% | 13.3% | 22s | 4.20 |
| R2 cnt=20 | nano | 튜닝 | 20 | 52.4% | 15.0% | 34s | 4.15 |
| **R3 mini** | **mini** | **튜닝** | 15 | **61.9%** | **0%** | 33s | **4.30** |

### 각 튜닝 레버의 기여도

| 튜닝 레버 | 커버리지 향상 | 환각 감소 |
|----------|-------------|----------|
| 상세 프롬프트 (R1→R1-3) | +12% | -10% |
| Instructions 튜닝 (R1-3→R2) | +11.6% | -6.7% |
| **모델 업그레이드 (R2→R3)** | **+14.3%** | **-13.3%** |
| **누적 효과** | **+37.9%** | **-30%** |

> **모델 업그레이드가 가장 큰 단일 효과!** Instructions 튜닝 + 모델 변경의 시너지가 핵심.

---

## 7. 다음 액션 (Round 4 방향)

### 남은 목표
- 커버리지 61.9% → **70%+ 목표** (필터 3개 + 수정 저장 추가 시 76% 가능)
- 환각 0% 유지

### 우선순위

| 순서 | 액션 | 예상 효과 |
|------|------|----------|
| 1 | **필터 커버 강제**: 프롬프트에 "필터 TC를 전체/진행중/완료 각각 1개씩 필수" 명시 | +14% (3개 TC) |
| 2 | **URL 파싱 개선**: buildUiSpecJson에 button, input[type=search], data-testid 추출 | 필터/검색 UI 인식 |
| 3 | **수정 저장 TC 보강**: Instructions에 "수정 저장 + 수정 취소 쌍으로 반드시 포함" | +5% |
| 4 | **모델을 gpt-5-mini에 고정** | 이미 완료 |

### 선택적 액션 (추후)
- gpt-4.1-mini 테스트 (reasoning 제거 후): 환각 0%이면서 더 빠를 수 있음
- reasoning.effort "medium"으로 변경: 더 깊은 분석 가능할 수 있음
- TC_JUDGE 캘리브레이션: completeness 점수를 실제 커버리지에 맞게 조정
