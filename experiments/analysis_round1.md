# GENQ TC 생성 실험 Round 1 분석 보고서

> 실험 날짜: 2026-02-15
> 대상: DemoApp Todo 페이지 (Gold Standard 21개 TC)

---

## 실험 조건 요약

| 항목 | 실험 1 | 실험 2 | 실험 3 |
|------|--------|--------|--------|
| 프롬프트 | 기본 (1줄) | 기본 (1줄) | 상세 (15줄, 기능 나열) |
| URL | 없음 | http://localhost:5174/todo | http://localhost:5174/todo |
| 요청 TC 수 | 10 | 10 | 15 |
| 생성 시간 | 22.08s | 27.54s | 40.58s |
| qltyIndex | 4.20 | 4.20 | 4.20 |
| trust | 4.23 | 4.24 | 4.19 |

---

## 1. 커버리지 분석 (Gold Standard 21개 대비)

### 매칭 테이블

| Gold Standard TC | 실험1 | 실험2 | 실험3 | 비고 |
|------------------|:-----:|:-----:|:-----:|------|
| TODO-001 Todo 추가 (전체 필드) | O | O | O | 모두 커버 |
| TODO-002 Todo 추가 (제목만) | X | O | O | 설명 선택사항 언급 |
| TODO-003 완료 토글 | O | X | X | 실험1만 커버 |
| TODO-004 완료 해제 | X | X | X | **전체 누락** |
| TODO-005 Todo 수정 | O | O | O | 모두 커버 |
| TODO-006 수정 취소 | X | X | X | **전체 누락** |
| TODO-007 삭제 확인 | O | O | O | 모두 커버 |
| TODO-008 삭제 취소 | X | X | X | **전체 누락** |
| TODO-009 필터: 전체 | X | X | X | **전체 누락** |
| TODO-010 필터: 진행중 | X | X | X | **전체 누락** |
| TODO-011 필터: 완료 | X | X | X | **전체 누락** |
| TODO-012 검색 매칭 | X | X | X | **전체 누락** |
| TODO-013 검색 결과 없음 | X | X | X | **전체 누락** |
| TODO-014 검색+필터 조합 | X | X | X | **전체 누락** |
| TODO-015 빈 제목 유효성 | O | O | O | 모두 커버 |
| TODO-016 maxLength 50 | △ | △ | △ | 값 부정확 (256/256/100 vs 실제50) |
| TODO-017 에러 클리어 | X | X | X | **전체 누락** |
| TODO-018 우선순위 전수 | X | X | △ | 실험3에서 기본값 언급 |
| TODO-019 빈 목록 상태 | X | X | △ | 실험3에서 부분 커버 |
| TODO-020 수정 모드 UI | X | X | X | **전체 누락** |
| TODO-021 localStorage 영속성 | X | X | O | 실험3만 커버 |

### 커버리지 스코어

| 실험 | 매칭 수 | 커버리지 | 목표(60%) |
|------|---------|---------|----------|
| 실험 1 | 5/21 | **24%** | FAIL |
| 실험 2 | 5/21 | **24%** | FAIL |
| 실험 3 | 7.5/21 | **36%** | FAIL |

**핵심 누락 영역:**
- 필터 기능 (3개 TC): 전체 누락
- 검색 기능 (3개 TC): 전체 누락
- 완료 해제, 수정 취소, 삭제 취소 (역행 시나리오): 전체 누락
- 토스트 메시지 (3개 TC): 전체 누락
- 에러 메시지 클리어: 전체 누락

---

## 2. 허위 TC (환각) 분석

### 존재하지 않는 기능에 대한 TC

| 허위 TC | 실험1 | 실험2 | 실험3 | 문제 |
|---------|:-----:|:-----:|:-----:|------|
| 중복 제목 검사 | O | O | X | 앱에 중복 검사 없음 |
| 네트워크 장애 처리 | O | O | O | localStorage 앱이라 네트워크 무관 |
| 세션 만료 | O | X | X | 로그인/세션 없음 |
| 서버 오류 처리 | X | O | X | 서버 없음 (localStorage) |
| 추가 버튼 비활성화 | X | X | O | 버튼 항상 활성화 |
| 로딩 중 비활성화 | X | X | O | 로딩 상태 없음 |

### 허위 TC 비율

| 실험 | 허위 TC | 비율 | 목표(<20%) |
|------|---------|------|-----------|
| 실험 1 | 3/10 | **30%** | FAIL |
| 실험 2 | 3/10 | **30%** | FAIL |
| 실험 3 | 3/15 | **20%** | BORDERLINE |

---

## 3. 정확도 분석

### testStep 구체성

| 기준 | 실험1 | 실험2 | 실험3 |
|------|-------|-------|-------|
| data-testid 포함 | 0% | 0% | 0% |
| 실제 버튼명 사용 | △ | △ | △ |
| CSS 셀렉터 포함 | 0% | 0% | 0% |
| 구체적 입력값 | △ | △ | O |
| 스텝 번호 연속성 | O | O | O |

### expectedResult 구체성

| 기준 | 실험1 | 실험2 | 실험3 |
|------|-------|-------|-------|
| 정확한 에러 메시지 | X | △ | △ |
| CSS 클래스/스타일 변화 | X | X | X |
| 토스트 메시지 문구 | X | X | X |
| 네비게이션 경로 | X | X | X |

---

## 4. serviceName 분석

| 실험 | serviceName | Gold Standard | 정확도 |
|------|-------------|---------------|--------|
| 실험 1 | "DemoApp Todo" | "DemoApp" | △ (수용 가능) |
| 실험 2 | "DemoApp Todo 관리" | "DemoApp" | △ (수용 가능) |
| 실험 3 | "DemoApp Todo 관리" | "DemoApp" | △ (수용 가능) |

---

## 5. TC_JUDGE 점수 신뢰도

3개 실험 모두 qltyIndex=4.20으로 거의 동일. 실제 품질 차이(커버리지 24% vs 36%)를 반영하지 못함.

| 지표 | 실험1 | 실험2 | 실험3 | 평가 |
|------|-------|-------|-------|------|
| qltyIndex | 4.20 | 4.20 | 4.20 | 차이 없음 - JUDGE가 차별 못 함 |
| trust | 4.23 | 4.24 | 4.19 | 역으로 실험3이 낮음 |
| completeness | 4.1 | 4.2 | 4.2 | 실제 커버리지 36%인데 4.2? |

**결론: TC_JUDGE의 점수가 실제 TC 품질을 반영하지 못함. 캘리브레이션 필요.**

---

## 6. URL 제공 효과 분석

실험 1(URL 없음) vs 실험 2(URL 있음) 비교:

| 항목 | 실험1 | 실험2 | 차이 |
|------|-------|-------|------|
| 커버리지 | 24% | 24% | 0% |
| 허위 TC | 30% | 30% | 0% |
| precondition | 없음 | 있음 | +개선 |
| 생성 시간 | 22s | 27.5s | +5.5s |

**URL 제공 효과: 거의 없음.** +5.5s 증가만 발생. Playwright DOM 파싱이 제대로 동작하지 않거나, 파싱 결과가 TC 생성에 효과적으로 활용되지 않는 것으로 추정.

---

## 7. 상세 프롬프트 효과 분석

실험 2(기본 프롬프트) vs 실험 3(상세 프롬프트) 비교:

| 항목 | 실험2 | 실험3 | 차이 |
|------|-------|-------|------|
| 커버리지 | 24% | 36% | **+12%** |
| 허위 TC | 30% | 20% | **-10%** |
| localStorage 언급 | X | O | +개선 |
| 우선순위 기본값 | X | O | +개선 |
| 필터/검색 커버 | 0 | 0 | **변화 없음** |

**상세 프롬프트 효과: 부분적 개선.** 프롬프트에 명시한 기능 중 일부만 TC로 변환됨. 특히 **필터/검색/토스트는 프롬프트에 명시했음에도 완전 누락** → 이 기능들은 AI가 "부가 기능"으로 인식하고 무시하는 것으로 추정.

---

## 8. 종합 진단 & 1차 튜닝 우선순위

### 가장 큰 갭 (우선순위순)

1. **필터/검색 기능 완전 누락** → TC_GENERATE 프롬프트에 "필터링/검색/탐색 기능이 있으면 반드시 TC로 포함" 지시 필요
2. **역행 시나리오 누락** (취소, 해제, 되돌리기) → "정상 흐름뿐 아니라 취소/복원 시나리오도 포함" 지시 필요
3. **환각 TC 높은 비율** → "앱에 실제로 존재하는 기능만 TC로 작성. 추측하지 말 것" 지시 필요
4. **토스트/알림 누락** → "사용자 피드백 메시지(토스트, 알림, 에러)를 검증하는 TC 포함" 지시 필요
5. **data-testid 미포함** → "URL 파싱 시 감지된 data-testid를 testStep에 포함" 지시 필요
6. **TC_JUDGE 캘리브레이션** → completeness 점수가 실제 커버리지와 괴리

### 1차 튜닝 액션 플랜

| 순서 | 액션 | 대상 | 예상 효과 |
|------|------|------|----------|
| 1 | TC_GENERATE 시스템 프롬프트 확장 | InstructionsConstants.java 또는 ai_prompt_tb | HIGH - 필터/검색/토스트/역행 커버 |
| 2 | URL 파싱 로직 확인 | ResponsesPayloadBuilder DOM 추출부 | HIGH - data-testid 활용 |
| 3 | TC_JUDGE 평가 기준 강화 | judge-schema + Instructions | MEDIUM - 점수 신뢰도 |
| 4 | 모델 변경 (gpt-4o-mini → gpt-4.1) | ai_func_config_tb | MEDIUM - 이해력 향상 |

---

## 부록: 추가 가치 TC (Gold Standard에 없지만 유의미)

| TC | 실험 | 가치 |
|----|------|------|
| 공백만 입력 시 유효성 | 실험3 | 높음 - 실제 앱에서 trim() 후 검증 |
| 저장 없이 페이지 이동 | 실험2 | 중간 - 폼 데이터 보존 검증 |
| 모바일 키보드 겹침 | 실험3 | 낮음 - 반응형 테스트 |
| 연속 추가 | 실험2,3 | 낮음 - 기본 추가의 반복 |
