# NEXT-2: Home/Nav TC 실험 분석

> 실험일: 2026-02-15
> 분석 기준: Gold Standard 12개 TC (Home 7 + Nav 5)
> 설정: gpt-5-mini + Instructions v2 + cnt=15 + URL 파싱(http://localhost:5174/)

---

## 1. 실험 요약

| 항목 | 값 |
|------|---|
| 실험 | H-1 (Home + Navigation) |
| URL | http://localhost:5174/ |
| 프롬프트 | 상세 (대시보드 통계, 네비게이션, 푸터 등 명시) |
| cnt | 15 |
| 생성 시간 | 29.3s |
| qltyIndex | 4.23 |
| trust | 4.23 |
| serviceName | "DemoApp" (정확!) |

---

## 2. Gold Standard 매칭

### 2.1 Home 페이지 (7개)

| Gold Standard | ID | 매칭 TC | 결과 | 비고 |
|---------------|-----|---------|------|------|
| Todo 통계 - 전체 카운트 | HOME-001 | - | **X** | 전체/진행중/완료 카운트 표시 확인 TC 없음 |
| Todo 통계 - 초기 (0) | HOME-002 | - | **X** | 통계 0 표시 확인 TC 없음 |
| 최근 게시글 표시 | HOME-003 | - | **X** | 최근 3개 게시글 목록 표시 확인 TC 없음 (클릭만) |
| 최근 게시글 클릭 | HOME-004 | TC-8 "최근 게시글 버튼 클릭 → 상세 이동" | **O** | data-testid=recent-post-5/6/4 정확 |
| Todo 시작하기 버튼 | HOME-005 | TC-6 "btn-start 클릭 → /todo 이동" | **O** | data-testid=btn-start 정확 |
| 게시판 가기 버튼 | HOME-006 | TC-7 "btn-board 클릭 → /board 이동" | **O** | data-testid=btn-board 정확 |
| 게시글 없을 때 메시지 | HOME-007 | - | **X** | '아직 게시글이 없습니다.' 확인 TC 없음 |

**Home 커버리지: 3/7 = 42.9%**

### 2.2 Navigation 레이아웃 (5개)

| Gold Standard | ID | 매칭 TC | 결과 | 비고 |
|---------------|-----|---------|------|------|
| 로고 → Home | NAV-001 | TC-1 "'DemoApp' 클릭 → Home(/) 이동" | **O** | 로고 클릭 정확 |
| Home 탭 활성화 | NAV-002 | TC-2 "Home 클릭 → 활성화 스타일" + TC-14 "경로별 탭 활성화" | **O** | bg-blue-50 text-blue-600 정확 |
| Todo 탭 이동+활성화 | NAV-003 | TC-3 "Todo 클릭 → /todo + 활성화" | **O** | |
| Board 탭 이동+활성화 | NAV-004 | TC-4 "Board 클릭 → /board + 활성화" | **O** | |
| 푸터 표시 | NAV-005 | TC-5 "'DemoApp v1.0 - GENQ Test Target' 표시" | **O** | 정확한 텍스트 매칭 |

**Nav 커버리지: 5/5 = 100.0%**

---

## 3. 종합 결과

| 지표 | 값 |
|------|---|
| **Home 커버리지** | **3/7 = 42.9%** |
| **Nav 커버리지** | **5/5 = 100.0%** |
| **전체 커버리지** | **8/12 = 66.7%** |
| **환각 (없는 기능)** | **0/15 = 0.0%** |
| **범위 이탈 (다른 페이지 기능)** | **5/15 = 33.3%** |
| **data-testid 활용률** | **40% (6/15 TC)** |

### 3.1 성공 기준 대비

| 기준 | 목표 | 달성 | 판정 |
|------|------|------|------|
| 커버리지 | 58%+ (7/12) | **66.7% (8/12)** | **PASS** |
| 환각 | <10% | **0.0%** | **PASS** |

---

## 4. 범위 이탈 TC 분석

15개 생성 TC 중 5개가 Home이 아닌 /todo 페이지 기능:

| TC# | TC명 | 실제 페이지 | 원인 |
|-----|------|-----------|------|
| TC-9 | "Todo 목록이 0개일 때 안내문구" | /todo | Home URL에서 네비게이션으로 /todo에 접근 가능 |
| TC-10 | "Todo 신규 추가 후 목록 표시" | /todo | Todo 시작하기 버튼으로 /todo 연결 |
| TC-11 | "빈 입력으로 할 일 추가 시 에러" | /todo | 위와 동일 |
| TC-12 | "할 일 체크박스 체크/해제" | /todo | Todo CRUD 기능 |
| TC-15 | "localStorage Todo 데이터 반영" | /todo | localStorage 관련 |

**원인**: Home 페이지의 인터랙션 요소가 적음 (버튼 2개 + 게시글 링크만).
cnt=15를 채우기 위해 AI가 네비게이션으로 연결되는 /todo 페이지의 TC를 생성.

**시사점**:
- cnt가 페이지의 실제 테스트 시나리오 수를 초과하면 범위 이탈 발생
- Home 페이지는 **cnt=8~10**이 적정 (유의미 TC 8개, 나머지는 이탈)
- 또는 Instructions에 "URL에서 벗어나는 TC 생성 금지" 규칙 추가 필요

---

## 5. 미달 TC 분석

### 5.1 누락 패턴: "데이터 표시 검증" TC 전멸

| 미달 TC | 유형 | 공통점 |
|---------|------|--------|
| HOME-001 Todo 통계 카운트 | 데이터 표시 | stat-total/stat-active/stat-completed 값 확인 |
| HOME-002 Todo 통계 초기(0) | 데이터 표시 | 조건부 초기값 확인 |
| HOME-003 최근 게시글 표시 | 데이터 표시 | 최근 3개 게시글 목록 렌더링 확인 |
| HOME-007 게시글 없을 때 | 조건부 UI | '아직 게시글이 없습니다.' 빈 상태 메시지 |

**모든 미달 TC가 "데이터가 올바르게 표시되는지" 확인하는 유형.**
이는 Board Detail 분석(DETAIL-001~003 미달)과 정확히 동일한 패턴.

### 5.2 근본 원인

1. **AI의 행동 편향**: AI는 "클릭 → 이동" 인터랙션 TC를 선호하고, "페이지에 X가 표시되는지 확인" 패시브 TC를 잘 생성하지 않음
2. **URL 파싱 한계**: 파서는 HTML 요소(input, button, link)를 잘 추출하지만, 동적 데이터(stat-total의 값)는 추출 불가
3. **Instructions 미흡**: "데이터 표시 검증 TC를 반드시 포함" 규칙이 없음

### 5.3 data-testid가 있는데도 미달인 사례

Gold Standard에는 `stat-total`, `stat-active`, `stat-completed` data-testid가 있고, URL 파싱으로 추출 가능함에도 이 요소를 검증하는 TC가 없음.

이는 **data-testid가 추출되어도 "표시 값 검증" TC는 자동 생성되지 않음**을 의미.
→ Instructions에 "data-testid가 있는 요소는 값/상태 검증 TC를 반드시 포함" 규칙 추가 후보.

---

## 6. Nav TC 품질 상세

Nav 5/5 = 100% 달성. 이유:

1. **네비게이션은 순수 인터랙션**: "클릭 → 이동 + 스타일 변경"이 AI가 가장 잘 생성하는 패턴
2. **프롬프트에 활성화 스타일 명시**: "bg-blue-50 text-blue-600" → TC에 그대로 반영
3. **데이터 의존성 없음**: Nav TC는 동적 데이터가 불필요, 정적 UI만으로 완성

**결론: 인터랙션 위주 + 프롬프트에 구체적 스타일 명시 → 100% 달성 가능.**

---

## 7. qltyIndex 기록

| 실험 | qltyIndex | 실제 커버리지 | 실제 환각 | 괴리 |
|------|:---------:|:-----------:|:--------:|:----:|
| H-1 | 4.23 | 66.7% | 0% | **대** |

qltyIndex 4.23은 Board 실험(4.25~4.30)보다 약간 낮지만, 실제 환각이 0%인 점을 반영하지 못함.
Board B-2(환각 15%)와 H-1(환각 0%)이 유사한 점수 → **TC_JUDGE가 환각을 감지하지 못함** 재확인.

---

## 8. 전체 페이지별 커버리지 누적 비교

| 페이지 | Gold Standard | 최고 커버리지 | 실험 | 인터랙션 TC | 데이터 표시 TC |
|--------|:------------:|:-----------:|------|:---------:|:-----------:|
| Todo | 21 | **81.0%** | Phase 3-2 | 강함 | 약함 (필터 TC로 보완) |
| Board Write | 16 | **62.5%** | B-4 | 강함 | N/A (form 위주) |
| Board List | 10 | **80.0%** | B-2 | 강함 | 중간 (뱃지/아이콘) |
| Board Detail | 9 | **55.6%** | B-2 | 강함 | **매우 약함** |
| Home | 7 | **42.9%** | H-1 | 강함 (3/3) | **전멸 (0/4)** |
| Nav | 5 | **100.0%** | H-1 | 완벽 | N/A |
| **합계** | **68** | **~67%** | 전체 | 80%+ | **~25%** |

**핵심 인사이트: "데이터 표시 검증" TC가 전체 커버리지의 bottleneck.**
인터랙션 TC만으로는 ~80%, 데이터 표시 검증까지 해야 90%+ 가능.

---

## 9. 권장 개선사항

### 9.1 Instructions v3 후보 규칙 (Board + Home 분석 종합)

| # | 규칙 | 기대 효과 |
|---|------|----------|
| 1 | "경계값은 양방향(미달+통과) TC를 모두 생성하라" | WRITE-011, TODO-016 커버 |
| 2 | "데이터 표시 검증 TC를 반드시 포함하라 (읽기 전용 필드의 값 확인)" | HOME-001~003, DETAIL-001~003 커버 |
| 3 | "data-testid가 있는 요소는 값/상태 검증 TC를 반드시 1개 이상 포함하라" | stat-total, post-detail-views 등 |
| 4 | "URL 페이지 범위를 벗어나는 TC를 생성하지 마라" | 범위 이탈 방지 |
| 5 | "검색/서버에러 TC는 프롬프트에 명시된 경우에만 생성하라" | 환각 방지 |

### 9.2 cnt 최적화

| 페이지 | 권장 cnt | 근거 |
|--------|:-------:|------|
| Todo | 20 | 21개 Gold Standard, cnt=20이 최적 |
| Board Write | 20 | 16개 Gold Standard, 유효성 TC가 많음 |
| Board List+Detail | 20 | 19개 Gold Standard, 2 URL |
| Home+Nav | **10** | 12개 Gold Standard, 인터랙션 8개 + 데이터 4개 |

### 9.3 다음 단계

1. **NEXT-3 (Clarify)**: Home 페이지에 Clarify 적용 → 데이터 표시 검증 TC가 생성되는지 확인
2. **NEXT-4 (Judge)**: qltyIndex 캘리브레이션 시 "데이터 표시 검증 부재"를 감점하는 기준 추가
3. **Instructions v3 실험**: 위 5개 규칙을 추가한 Instructions로 Todo/Board/Home 재실험
